<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>page 8</title>
    <link id="pagestyle" rel="stylesheet" href="css/styles.css" type="text/css" />
    <script src="js/jquery-3.2.1.min.js" charset="utf-8"></script>
    <script src="js/scripts.js" charset="utf-8"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sharer.js@latest/sharer.min.js"></script>
    <script>
        function goHomePg() {
            location.href = 'st1.html';
        }
        function pickLanguage() {
            var pickLang = localStorage.getItem("langID");
            if (typeof pickLang !== 'undefined' && pickLang !== null) {
                if (pickLang.localeCompare("he") === 0) {
                    pickLang = "en";
                    swapStyleSheet('css/styles-eng.css');
                    localStorage.setItem("langID", "en");
                    loadLang();
                } else if (pickLang.localeCompare("en") === 0) {
                    pickLang = "he";
                    localStorage.setItem("langID", "he");
                    swapStyleSheet('css/styles.css');
                    loadLang();
                }
            } else {
                pickLang = "he";
                localStorage.setItem("langID", "he");
                swapStyleSheet('css/styles.css');
                loadLang();
            }
        }

        function findMatches(searchValue) {
            JsonLang = localStorage.getItem("lang");
            var lang = JSON.parse(JsonLang);
            var object = lang["stars"];
            console.log(object);
            var searchKey = "id";
            counter = 0;
            for (var i in object) {
                if (object[i][searchKey] === searchValue) {
                    $('#catgSub1').text(object[i].name);
                    $('#titleTxt1').text(object[i].country + ", " + object[i].birth_year + "-" + object[i].death_year);
                    $('#txt1').text(object[i].info);
                    $('#videoTitle').text(lang.singer + ": " + object[i].video.name);
                }
            }
        }


        $(function () {
            pickCSS();
            JsonLang = localStorage.getItem("lang");
            var lang = JSON.parse(JsonLang);
            $('#hdTitle').text(lang["hdTitles"]["starts"]);
            $('#catgTitle').text(lang.starsTitle);
            var prData = localStorage.getItem("prData");
            prData = parseInt(prData, 10);
            findMatches(prData);
            $('body').delegate('#catgTitle', 'click', function () {
                location.href = "st1.html";
            });

            currUrl = document.URL;

            var modal = document.getElementById("shareModal");

            var btn = document.getElementById("shareBtn");
            var span = document.getElementsByClassName("close")[0];
            btn.onclick = function () {
                modal.style.display = "block";
            }

            span.onclick = function () {
                modal.style.display = "none";
            }


            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }

            $('a', $('#share')).each(function () {
                $(this).attr('data-url', currUrl);
            });
        });
    </script>
</head>
<body>
    <div class="header">
        <div class="headerWrapper">
            <div class="headerCont">
                <div class="langIcon" id="lang" onclick="pickLanguage()"></div>
                <div class="titleCont"><div class="mainTitle" id="hdTitle">כוכבות</div></div>
                <div class="homeIcon" onclick="goHomePg()"></div>
            </div>
        </div>
        <div class="borderBtm"></div>
    </div>
    <div class="pageCont">
        <div class="pageWrapper">
            <div class="category">
                <span class="mainCat" id="catgTitle"></span>
                <span class="split">&ensp;/&ensp;</span>
                <span class="greenTitle" id="catgSub1"></span>
            </div>
            <div class="sharingIcons">
                <span class="shareIcon" id="shareBtn"></span>
                <span class="mailIcon" onclick="mail()"></span>
            </div>

            <div class="pageSubCont">
                <div class="pageSubWrapper">
                    <div class="shapeCont" style="margin-top:25px;"><div id="img" style="height: 240px;" class="imageShape"></div></div>
                    <div class="text">
                        <div class="textSubTitle" style="color: #C6C6C6;" id="titleTxt1"></div>
                        <div id="txt1">

                        </div>
                    </div>
                    <div class="videoFrame">
                        <div class="video" id="video">
                            <p id="videoTitle" class="artistName"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal" id="shareModal">
                <div class="shareModalCont">

                    <div class='txtModal' id="share">
                        <a data-sharer="facebook" data-title="Checkout SJ3!" data-url='' class="fa fa-facebook"></a>
                        <a data-sharer="twitter" data-title="Checkout SJ3!" data-url='' class="fa fa-twitter"></a>
                        <a data-sharer="linkedin" data-title="Checkout SJ3!" data-url='' class="fa fa-linkedin"></a>
                        <a data-sharer="instagram" data-title="Checkout SJ3!" data-url='' class="fa fa-instagram"></a>
                        <a data-sharer="telegram" data-title="Checkout SJ3!" data-url='' class="fa fa-telegram"></a>
                        <a data-sharer="whatsapp" data-title="Checkout SJ3!" data-url='' class="fa fa-whatsapp"></a>
                    </div>
                    <input class="close" type="button" value="סגור" style="margin-top:240px" />
                </div>
            </div>
        </div>
    </div>
</body>
</html>